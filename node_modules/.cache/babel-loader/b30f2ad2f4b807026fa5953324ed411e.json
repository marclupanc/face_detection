{"ast":null,"code":"import * as tf from '@tensorflow/tfjs-core';\nimport { SeparableConvParams } from './types';\nexport function extractSeparableConvParamsFactory(extractWeights, paramMappings) {\n  return function (channelsIn, channelsOut, mappedPrefix) {\n    var depthwise_filter = tf.tensor4d(extractWeights(3 * 3 * channelsIn), [3, 3, channelsIn, 1]);\n    var pointwise_filter = tf.tensor4d(extractWeights(channelsIn * channelsOut), [1, 1, channelsIn, channelsOut]);\n    var bias = tf.tensor1d(extractWeights(channelsOut));\n    paramMappings.push({\n      paramPath: mappedPrefix + \"/depthwise_filter\"\n    }, {\n      paramPath: mappedPrefix + \"/pointwise_filter\"\n    }, {\n      paramPath: mappedPrefix + \"/bias\"\n    });\n    return new SeparableConvParams(depthwise_filter, pointwise_filter, bias);\n  };\n}\nexport function loadSeparableConvParamsFactory(extractWeightEntry) {\n  return function (prefix) {\n    var depthwise_filter = extractWeightEntry(prefix + \"/depthwise_filter\", 4);\n    var pointwise_filter = extractWeightEntry(prefix + \"/pointwise_filter\", 4);\n    var bias = extractWeightEntry(prefix + \"/bias\", 1);\n    return new SeparableConvParams(depthwise_filter, pointwise_filter, bias);\n  };\n}","map":{"version":3,"mappings":"AAAA,OAAO,KAAKA,EAAZ,MAAoB,uBAApB;AAEA,SAA+CC,mBAA/C,QAA0E,SAA1E;AAEA,OAAM,SAAUC,iCAAV,CACJC,cADI,EAEJC,aAFI,EAEyB;EAG7B,OAAO,UAASC,UAAT,EAA6BC,WAA7B,EAAkDC,YAAlD,EAAsE;IAC3E,IAAMC,gBAAgB,GAAGR,EAAE,CAACS,QAAH,CAAYN,cAAc,CAAC,IAAI,CAAJ,GAAQE,UAAT,CAA1B,EAAgD,CAAC,CAAD,EAAI,CAAJ,EAAOA,UAAP,EAAmB,CAAnB,CAAhD,CAAzB;IACA,IAAMK,gBAAgB,GAAGV,EAAE,CAACS,QAAH,CAAYN,cAAc,CAACE,UAAU,GAAGC,WAAd,CAA1B,EAAsD,CAAC,CAAD,EAAI,CAAJ,EAAOD,UAAP,EAAmBC,WAAnB,CAAtD,CAAzB;IACA,IAAMK,IAAI,GAAGX,EAAE,CAACY,QAAH,CAAYT,cAAc,CAACG,WAAD,CAA1B,CAAb;IAEAF,aAAa,CAACS,IAAd,CACE;MAAEC,SAAS,EAAKP,YAAY;IAA5B,CADF,EAEE;MAAEO,SAAS,EAAKP,YAAY;IAA5B,CAFF,EAGE;MAAEO,SAAS,EAAKP,YAAY;IAA5B,CAHF;IAMA,OAAO,IAAIN,mBAAJ,CACLO,gBADK,EAELE,gBAFK,EAGLC,IAHK,CAAP;EAKD,CAhBD;AAkBD;AAED,OAAM,SAAUI,8BAAV,CACJC,kBADI,EACiE;EAGrE,OAAO,UAAUC,MAAV,EAAwB;IAC7B,IAAMT,gBAAgB,GAAGQ,kBAAkB,CAAiBC,MAAM,sBAAvB,EAA4C,CAA5C,CAA3C;IACA,IAAMP,gBAAgB,GAAGM,kBAAkB,CAAiBC,MAAM,sBAAvB,EAA4C,CAA5C,CAA3C;IACA,IAAMN,IAAI,GAAGK,kBAAkB,CAAiBC,MAAM,UAAvB,EAAgC,CAAhC,CAA/B;IAEA,OAAO,IAAIhB,mBAAJ,CACLO,gBADK,EAELE,gBAFK,EAGLC,IAHK,CAAP;EAKD,CAVD;AAYD","names":["tf","SeparableConvParams","extractSeparableConvParamsFactory","extractWeights","paramMappings","channelsIn","channelsOut","mappedPrefix","depthwise_filter","tensor4d","pointwise_filter","bias","tensor1d","push","paramPath","loadSeparableConvParamsFactory","extractWeightEntry","prefix"],"sources":["../../../src/common/extractSeparableConvParamsFactory.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}