{"ast":null,"code":"import { env } from '../env';\nimport { getContext2dOrThrow } from './getContext2dOrThrow';\nimport { getMediaDimensions } from './getMediaDimensions';\nimport { isMediaLoaded } from './isMediaLoaded';\nexport function createCanvas(_a) {\n  var width = _a.width,\n      height = _a.height;\n  var createCanvasElement = env.getEnv().createCanvasElement;\n  var canvas = createCanvasElement();\n  canvas.width = width;\n  canvas.height = height;\n  return canvas;\n}\nexport function createCanvasFromMedia(media, dims) {\n  var ImageData = env.getEnv().ImageData;\n\n  if (!(media instanceof ImageData) && !isMediaLoaded(media)) {\n    throw new Error('createCanvasFromMedia - media has not finished loading yet');\n  }\n\n  var _a = dims || getMediaDimensions(media),\n      width = _a.width,\n      height = _a.height;\n\n  var canvas = createCanvas({\n    width: width,\n    height: height\n  });\n\n  if (media instanceof ImageData) {\n    getContext2dOrThrow(canvas).putImageData(media, 0, 0);\n  } else {\n    getContext2dOrThrow(canvas).drawImage(media, 0, 0, width, height);\n  }\n\n  return canvas;\n}","map":{"version":3,"mappings":"AACA,SAASA,GAAT,QAAoB,QAApB;AACA,SAASC,mBAAT,QAAoC,uBAApC;AACA,SAASC,kBAAT,QAAmC,sBAAnC;AACA,SAASC,aAAT,QAA8B,iBAA9B;AAEA,OAAM,SAAUC,YAAV,CAAuBC,EAAvB,EAAqD;MAA5BC;MAAOC;EAE5B;EACR,IAAMC,MAAM,GAAGC,mBAAmB,EAAlC;EACAD,MAAM,CAACF,KAAP,GAAeA,KAAf;EACAE,MAAM,CAACD,MAAP,GAAgBA,MAAhB;EACA,OAAOC,MAAP;AACD;AAED,OAAM,SAAUE,qBAAV,CAAgCC,KAAhC,EAAwFC,IAAxF,EAA0G;EAEtG;;EAER,IAAI,EAAED,KAAK,YAAYE,SAAnB,KAAiC,CAACV,aAAa,CAACQ,KAAD,CAAnD,EAA4D;IAC1D,MAAM,IAAIG,KAAJ,CAAU,4DAAV,CAAN;EACD;;EAEK;EAAA,IAAER,gBAAF;EAAA,IAASC,kBAAT;;EACN,IAAMC,MAAM,GAAGJ,YAAY,CAAC;IAAEE,KAAK,OAAP;IAASC,MAAM;EAAf,CAAD,CAA3B;;EAEA,IAAII,KAAK,YAAYE,SAArB,EAAgC;IAC9BZ,mBAAmB,CAACO,MAAD,CAAnB,CAA4BO,YAA5B,CAAyCJ,KAAzC,EAAgD,CAAhD,EAAmD,CAAnD;EACD,CAFD,MAEO;IACLV,mBAAmB,CAACO,MAAD,CAAnB,CAA4BQ,SAA5B,CAAsCL,KAAtC,EAA6C,CAA7C,EAAgD,CAAhD,EAAmDL,KAAnD,EAA0DC,MAA1D;EACD;;EACD,OAAOC,MAAP;AACD","names":["env","getContext2dOrThrow","getMediaDimensions","isMediaLoaded","createCanvas","_a","width","height","canvas","createCanvasElement","createCanvasFromMedia","media","dims","ImageData","Error","putImageData","drawImage"],"sources":["../../../src/dom/createCanvas.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}