{"ast":null,"code":"export function createFileSystem(fs) {\n  var requireFsError = '';\n\n  if (!fs) {\n    try {\n      fs = require('fs');\n    } catch (err) {\n      requireFsError = err.toString();\n    }\n  }\n\n  var readFile = fs ? function (filePath) {\n    return new Promise(function (res, rej) {\n      fs.readFile(filePath, function (err, buffer) {\n        return err ? rej(err) : res(buffer);\n      });\n    });\n  } : function () {\n    throw new Error(\"readFile - failed to require fs in nodejs environment with error: \" + requireFsError);\n  };\n  return {\n    readFile: readFile\n  };\n}","map":{"version":3,"mappings":"AAEA,OAAM,SAAUA,gBAAV,CAA2BC,EAA3B,EAAmC;EAEvC,IAAIC,cAAc,GAAG,EAArB;;EAEA,IAAI,CAACD,EAAL,EAAS;IACP,IAAI;MACFA,EAAE,GAAGE,OAAO,CAAC,IAAD,CAAZ;IACD,CAFD,CAEE,OAAOC,GAAP,EAAY;MACZF,cAAc,GAAGE,GAAG,CAACC,QAAJ,EAAjB;IACD;EACF;;EAED,IAAMC,QAAQ,GAAGL,EAAE,GACf,UAASM,QAAT,EAAyB;IACzB,OAAO,IAAIC,OAAJ,CAAoB,UAACC,GAAD,EAAMC,GAAN,EAAS;MAClCT,EAAE,CAACK,QAAH,CAAYC,QAAZ,EAAsB,UAASH,GAAT,EAAmBO,MAAnB,EAAiC;QACrD,OAAOP,GAAG,GAAGM,GAAG,CAACN,GAAD,CAAN,GAAcK,GAAG,CAACE,MAAD,CAA3B;MACD,CAFD;IAGD,CAJM,CAAP;EAKD,CAPgB,GAQf;IACA,MAAM,IAAIC,KAAJ,CAAU,uEAAqEV,cAA/E,CAAN;EACD,CAVH;EAYA,OAAO;IACLI,QAAQ;EADH,CAAP;AAGD","names":["createFileSystem","fs","requireFsError","require","err","toString","readFile","filePath","Promise","res","rej","buffer","Error"],"sources":["../../../src/env/createFileSystem.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}