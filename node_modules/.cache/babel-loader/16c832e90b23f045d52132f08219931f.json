{"ast":null,"code":"import { Point } from '../classes';\nimport { FaceExpressions } from '../faceExpressionNet';\nimport { isWithFaceDetection } from '../factories/WithFaceDetection';\nimport { isWithFaceExpressions } from '../factories/WithFaceExpressions';\nimport { round } from '../utils';\nimport { DrawTextField } from './DrawTextField';\nexport function drawFaceExpressions(canvasArg, faceExpressions, minConfidence, textFieldAnchor) {\n  if (minConfidence === void 0) {\n    minConfidence = 0.1;\n  }\n\n  var faceExpressionsArray = Array.isArray(faceExpressions) ? faceExpressions : [faceExpressions];\n  faceExpressionsArray.forEach(function (e) {\n    var expr = e instanceof FaceExpressions ? e : isWithFaceExpressions(e) ? e.expressions : undefined;\n\n    if (!expr) {\n      throw new Error('drawFaceExpressions - expected faceExpressions to be FaceExpressions | WithFaceExpressions<{}> or array thereof');\n    }\n\n    var sorted = expr.asSortedArray();\n    var resultsToDisplay = sorted.filter(function (expr) {\n      return expr.probability > minConfidence;\n    });\n    var anchor = isWithFaceDetection(e) ? e.detection.box.bottomLeft : textFieldAnchor || new Point(0, 0);\n    var drawTextField = new DrawTextField(resultsToDisplay.map(function (expr) {\n      return expr.expression + \" (\" + round(expr.probability) + \")\";\n    }), anchor);\n    drawTextField.draw(canvasArg);\n  });\n}","map":{"version":3,"mappings":"AAAA,SAAiBA,KAAjB,QAA8B,YAA9B;AACA,SAASC,eAAT,QAAgC,sBAAhC;AACA,SAASC,mBAAT,QAAoC,gCAApC;AACA,SAASC,qBAAT,QAA2D,kCAA3D;AACA,SAASC,KAAT,QAAsB,UAAtB;AACA,SAASC,aAAT,QAA8B,iBAA9B;AAIA,OAAM,SAAUC,mBAAV,CACJC,SADI,EAEJC,eAFI,EAGJC,aAHI,EAIJC,eAJI,EAIoB;EADxB;IAAAD;EAAmB;;EAGnB,IAAME,oBAAoB,GAAGC,KAAK,CAACC,OAAN,CAAcL,eAAd,IAAiCA,eAAjC,GAAmD,CAACA,eAAD,CAAhF;EAEAG,oBAAoB,CAACG,OAArB,CAA6B,aAAC;IAC5B,IAAMC,IAAI,GAAGC,CAAC,YAAYf,eAAb,GACTe,CADS,GAERb,qBAAqB,CAACa,CAAD,CAArB,GAA2BA,CAAC,CAACC,WAA7B,GAA2CC,SAFhD;;IAGA,IAAI,CAACH,IAAL,EAAW;MACT,MAAM,IAAII,KAAJ,CAAU,iHAAV,CAAN;IACD;;IAED,IAAMC,MAAM,GAAGL,IAAI,CAACM,aAAL,EAAf;IACA,IAAMC,gBAAgB,GAAGF,MAAM,CAACG,MAAP,CAAc,gBAAI;MAAI,WAAI,CAACC,WAAL,GAAmBf,aAAnB;IAAgC,CAAtD,CAAzB;IAEA,IAAMgB,MAAM,GAAGvB,mBAAmB,CAACc,CAAD,CAAnB,GACXA,CAAC,CAACU,SAAF,CAAYC,GAAZ,CAAgBC,UADL,GAEVlB,eAAe,IAAI,IAAIV,KAAJ,CAAU,CAAV,EAAa,CAAb,CAFxB;IAIA,IAAM6B,aAAa,GAAG,IAAIxB,aAAJ,CACpBiB,gBAAgB,CAACQ,GAAjB,CAAqB,gBAAI;MAAI,OAAGf,IAAI,CAACgB,UAAL,GAAe,IAAf,GAAoB3B,KAAK,CAACW,IAAI,CAACS,WAAN,CAAzB,GAA2C,GAA9C;IAAiD,CAA9E,CADoB,EAEpBC,MAFoB,CAAtB;IAIAI,aAAa,CAACG,IAAd,CAAmBzB,SAAnB;EACD,CApBD;AAqBD","names":["Point","FaceExpressions","isWithFaceDetection","isWithFaceExpressions","round","DrawTextField","drawFaceExpressions","canvasArg","faceExpressions","minConfidence","textFieldAnchor","faceExpressionsArray","Array","isArray","forEach","expr","e","expressions","undefined","Error","sorted","asSortedArray","resultsToDisplay","filter","probability","anchor","detection","box","bottomLeft","drawTextField","map","expression","draw"],"sources":["../../../src/draw/drawFaceExpressions.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}